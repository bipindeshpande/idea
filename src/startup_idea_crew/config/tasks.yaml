profile_analysis_task:
  description: >
    YOU MUST START YOUR RESPONSE WITH EXACTLY THIS LINE (copy it exactly):
    ## 1. Core Motivation

    DO NOT write "Profile Summary Document" or any title before this.
    DO NOT use bold headings like **Core Motivations**.
    DO NOT use numbered lists like 1. Core Motivations.
    ONLY use markdown headings: ## 1. Core Motivation

    CRITICAL: Write in second-person ("You") ONLY. Never use "the user" or "their." Write like you're talking directly to the person.

    CRITICAL ANALYSIS REQUIREMENT: Do NOT simply repeat what the user told you. You MUST provide insights, reasoning, and analysis. Explain:
    - WHY their inputs matter and what they reveal
    - WHAT these inputs mean strategically
    - HOW different inputs connect and create opportunities or constraints
    - WHAT the user might not realize about their own profile
    - WHAT patterns or implications emerge from their choices

    Your job is to ANALYZE and provide VALUE, not echo back their inputs. If you just restate what they said, you've failed.

    User inputs:
    - Goal Type: {goal_type}
    - Time Commitment: {time_commitment}
    - Budget Range: {budget_range}
    - Interest Area: {interest_area}
    - Sub-Interest Focus: {sub_interest_area}
    - Preferred Work Style: {work_style}
    - Primary Skill Strength: {skill_strength}
    - Experience Summary: {experience_summary}

    WRITING RULES (non-negotiable):
    - Use "You" not "the user" or "they"
    - Use short, punchy sentences
    - Avoid: "Given the fact that", "It is important to note", "Additionally", "Furthermore"
    - Be specific: "Botpress, Rasa, Dialogflow" not "various chatbot frameworks"
    - Focus on execution: "Week 1: Build a basic intent bot" not "The first phase should involve..."
    - Keep paragraphs under 3 sentences
    - Use bullet points liberally

    MANDATORY OUTPUT FORMAT - COPY THIS EXACT STRUCTURE:
    
    ## 1. Core Motivation
    
    [ANALYZE their goal type and experience summary. Don't just say "You want to {goal_type}". Instead, explain:
    - What this goal type reveals about their priorities and mindset
    - What underlying motivations drive this choice
    - What patterns in their experience summary connect to this goal
    - What they might be seeking beyond the surface-level goal
    Start with "You're exploring..." or "You want to..." but then add WHY and WHAT THIS MEANS. 3-4 sentences with real insight.]

    ## 2. Operating Constraints
    
    [ANALYZE the constraints, don't just list them. Explain the implications and trade-offs:
    - Time ({time_commitment}): What this ACTUALLY means for project scope, what types of projects are realistic vs. unrealistic, what shortcuts or approaches this forces, what opportunities this creates (e.g., "10 hours/week means you can't build a complex SaaS, but you CAN validate ideas quickly through no-code tools")
    - Work Style ({work_style}): How this shapes execution, what types of projects match this style, what challenges this creates, what advantages this provides
    - Budget ({budget_range}): What tools/platforms this enables or rules out, what business models are feasible, what risks this creates, what creative solutions this demands
    Each point should be 2-3 sentences with real analysis, not just "Your budget is {budget_range}."]

    ## 3. Opportunity Within [Interest Area]
    
    [ANALYZE why this interest area matters NOW and what opportunities exist. Don't just list the interest area. Explain:
    - Why this area is timely (market trends, technology shifts, demand signals)
    - What specific opportunities exist within this area that match their constraints
    - What gaps or problems exist that their skills could address
    - What the user might not know about opportunities in this space
    2-3 bullet points with concrete examples, specific tool names, frameworks, or market signals. Each bullet should provide insight, not just state facts.]

    ## 4. Strengths You Can Leverage
    
    [ANALYZE their skill strength and experience. Don't just repeat what they said. Explain:
    - What this strength ACTUALLY means in practice
    - How this strength gives them an advantage others don't have
    - What types of problems this strength is uniquely suited to solve
    - What the user might not realize about how valuable this strength is
    2-4 bullet points. Each point: one strength + WHY it matters + HOW it helps execution + WHAT it enables. Example: "Strong automation mindset → You naturally think in systems and flows, which means you can design logical conversation triggers that others struggle with. This gives you an edge in building chatbots that actually work, not just look good."]

    ## 5. Skill Gaps to Fill
    
    [ANALYZE what's missing. Don't just list skills. Explain:
    - WHY these gaps matter for their goals
    - WHAT happens if they don't fill these gaps
    - HOW these gaps connect to their interest area and constraints
    - WHAT the fastest path to filling these gaps is
    2-4 bullet points. Be concrete: "NLP basics: intents, entities, context, conversation memory" NOT "understanding of technical concepts." Each point should explain WHY this gap matters and WHAT it blocks.]

    ## 6. Recommendations
    
    [Actionable steps in bullet format. Include specific platform/tool choices, concrete project framing, weekly milestones (Week 1: X, Week 2: Y, Week 3: Z, Week 4: W), learning approach, community resources, success metrics as questions.]

    ## 7. Clarifications Needed (for downstream agents)
    
    [3-5 questions. Format as questions, not statements. Example: "Which chatbot niche interests you most?" NOT "It would be helpful to know which chatbot niche..."]

    STRICT REQUIREMENTS:
    - Total word count: 600-800 words maximum
    - Every sentence uses "You" not "the user" or "they"
    - No phrases like "Given the", "It is important", "Additionally", "Furthermore"
    - Be specific with tool names, not generic descriptions
    - Keep paragraphs short (2-3 sentences max)
    - Use markdown headings (##) not numbered lists (1.) or bold (**)
    - DO NOT start with "Profile Summary Document" or any other title
    - DO NOT use third-person language anywhere
    - DO NOT use bold headings (**Core Motivations**)
    - START DIRECTLY WITH: ## 1. Core Motivation
  expected_output: >
    A concise strategic summary with numbered sections in this EXACT format. Use second-person ("You") throughout.

    ## 1. Core Motivation
    
    One paragraph (2-3 sentences max) explaining their real drive in plain language. Start with "You're exploring..." or "You want to..." NOT "The user's goal is..." or "Given the interest in..."

    ## 2. Operating Constraints
    
    Break down time, work style, and budget with specific implications. Format as:
    - Time ({time_commitment}): One sentence on what this means for project scope
    - Work Style ({work_style}): One sentence on how this shapes execution
    - Budget ({budget_range}): One sentence on what tools/platforms this enables or rules out

    ## 3. Opportunity Within [Interest Area]
    
    Why this interest area and sub-focus matter now. 2-3 bullet points with concrete examples. Use specific tool names, frameworks, or market signals. NO abstract theory.

    ## 4. Strengths You Can Leverage
    
    List 2-4 bullet points. Each point: one strength + how it helps execution. Example: "Strong automation mindset → designing logical flows and triggers."

    ## 5. Skill Gaps to Fill
    
    List 2-4 bullet points. Be concrete: "NLP basics: intents, entities, context, conversation memory" NOT "understanding of technical concepts."

    ## 6. Recommendations
    
    Actionable steps in bullet format. Include:
    - Specific platform/tool choices (e.g., "Pick one: Botpress, Rasa, Langflow, or Dialogflow")
    - Concrete project framing (e.g., "a goal-based idea-finder bot")
    - Weekly milestones (Week 1: X, Week 2: Y, Week 3: Z, Week 4: W)
    - Learning approach (e.g., "Learn in the flow, not through courses alone")
    - Community resources (specific: "Botpress Discord, Rasa Forum, Langflow GitHub")
    - Success metrics as questions (e.g., "Did you understand how a bot manages context?")

    ## 7. Clarifications Needed (for downstream agents)
    
    List 3-5 questions. Format as questions, not statements. Example: "Which chatbot niche interests you most?" NOT "It would be helpful to know which chatbot niche..."

    STRICT REQUIREMENTS:
    - Total word count: 600-800 words maximum
    - Every sentence uses "You" not "the user" or "they"
    - No phrases like "Given the", "It is important", "Additionally", "Furthermore"
    - Be specific with tool names, not generic descriptions
    - Keep paragraphs short (2-3 sentences max)
  agent: profile_analyzer
  output_file: output/profile_analysis.md

idea_research_task:
  description: >
    Based on the user's profile analysis, research and generate at least five (ideally 5-8) innovative startup ideas that:
    - Align with the user's goal type: {goal_type}
    - Match their stated time commitment: {time_commitment}
    - Respect the available budget range: {budget_range}
    - Fit the primary interest area: {interest_area} and sub-focus: {sub_interest_area}
    - Leverage their primary skill strength: {skill_strength}
    - Support the preferred work style: {work_style}
    - Build on context from the experience summary: {experience_summary}

    IMPORTANT STRUCTURE REQUIREMENT:
    - Begin your response with the exact heading `### Idea Research Report`
    - Follow with a short executive summary paragraph (3-4 sentences)
    - Provide a numbered list of **at least five** ideas in the format `1. **Idea Name**` and include detailed subsections for each idea (see expected_output)
    - Close with a `### Validation Backlog` section containing bullet-point experiments
    - If you cannot meet this structure, you must explicitly state why and request another try. Never provide a one-line summary.

    IMPORTANT: Use tools efficiently—only call them for your top 2-3 ideas to save time:
    1. Use research_market_trends tool for top 2 ideas only
    2. Use analyze_competitors tool for top 2 ideas only
    3. Use estimate_market_size tool for top 2 ideas only
    4. Use validate_startup_idea tool for top 1 idea only

    Be concise. Produce the full report but keep each idea section focused. Every idea must be documented with sufficient depth to guide execution.

    For each idea, provide:
    - Business concept description and why it suits the intake profile
    - Target market and customer segments consistent with their interests and skills
    - Revenue model possibilities that respect budget boundaries
    - Required resources, team structure, and how the user's strengths/work style map to them
    - Time to market estimate based on stated time commitment
    - Competitive landscape overview (use analyze_competitors tool when helpful)
    - Market size estimation (use estimate_market_size tool when helpful)
    - Market trends analysis (use research_market_trends tool when helpful)
    - Validation score and feasibility assessment (use validate_startup_idea tool for key ideas)
    - Key challenges, required partnerships, and execution considerations
  expected_output: >
    A comprehensive research document with the following structure:
    - Heading `### Idea Research Report`
    - Executive Summary paragraph (minimum 150 words)
    - Numbered ideas section (`1.` through at least `5.`) where each idea contains:
      * **Idea Fit Summary** covering concept and alignment with profile
      * **Market Opportunity** describing segments, sizing, and trends (reference tool outputs)
      * **Revenue Model & Financials** detailing pricing, monetization, cost assumptions
      * **Resource & Skill Mapping** connecting requirements to the user's strengths, work style, and capacity
      * **Timeline & Effort** with realistic milestones respecting time commitment and budget
      * **Risks & Mitigations** leveraging tool insights and noting alignment with their goal type and work style
      * **Immediate Experiments** listing 2-3 validation steps with success metrics
    - `### Validation Backlog` section aggregating experiments across ideas
    The output should be 800-1000 words (concise but complete). Focus on quality over length—avoid summaries or generic statements.
  agent: idea_researcher
  output_file: output/startup_ideas_research.md

recommendation_task:
  description: >
    Based on the profile analysis and researched startup ideas, create personalized recommendations:
    - Rank the top 3 startup ideas that best match the user
    - Provide detailed reasoning grounded in goal type {goal_type}, time commitment {time_commitment}, budget {budget_range}, interest area {interest_area}, sub-focus {sub_interest_area}, work style {work_style}, skill strength {skill_strength}, and experience summary {experience_summary}
    - Include actionable next steps for each top idea, highlighting how to leverage strengths and cover gaps
    - Outline execution timeline and milestones compatible with their availability and budget
    - Address potential challenges, capital requirements, and mitigation tactics
    - Provide tips for validation, traction tests, and resource allocation
    - Ensure that every section (execution, risks, experiments, validation questions, roadmap) contains idea-specific content and does not reuse wording from other ideas unless absolutely necessary; rewrite any repeated phrasing

    MANDATORY FORMAT (non-negotiable):
    - Start with the heading `### Comprehensive Recommendation Report`
    - Add a "Profile Fit Summary" subsection with bullet points translating the profile into insights
    - Present a table or bullet comparison showing how each top idea aligns with goals, budget, and risk
    - Provide a numbered list `1.` to `3.` titled **Idea Name** with deep dives (see expected_output)
      CRITICAL: Each idea MUST start with exactly: `1. **Idea Name**` (with number, period, space, bold, then idea name)
      Example: `1. **AI-Powered Customer Support Bot**` NOT `1. AI-Powered Customer Support Bot` (missing bold)
      Example: `**Idea Name**` NOT `1. **Idea Name**` (missing number)
    - Include dedicated sections for `### Financial Outlook`, `### Risk Radar`, `### Customer Persona`, `### Validation Questions`, and `### 30/60/90 Day Roadmap`
    - CRITICAL: The `### Risk Radar` and `### 30/60/90 Day Roadmap` sections MUST be highly specific to the recommended ideas and user profile. Generic content will be rejected. Each risk must explain HOW it impacts the specific idea given the user's constraints. Each roadmap milestone must be a concrete, actionable step with specific tools/platforms/actions, not vague tasks.
    - Close with `### Decision Checklist` summarizing go/no-go signals
    - ALWAYS produce at least 3 ideas, even if inputs are minimal. Use the inputs you have and make reasonable assumptions.
    - If inputs are minimal, still create detailed recommendations by making educated inferences from what's provided.
    - Before finalizing, check that each idea contains at least one execution milestone, risk, and validation prompt that references the idea's unique focus or audience; if not, rework that idea's section until all elements are distinct.

    IMPORTANT: Use tools efficiently—only for the #1 recommended idea to save time:
    1. Use assess_startup_risks tool for the #1 idea only
    2. Use estimate_startup_costs tool for the #1 idea only
    3. Use project_revenue tool for the #1 idea only
    4. Use check_financial_viability tool for the #1 idea only
    5. Use check_domain_availability tool for the #1 idea only
    6. Use generate_customer_persona tool for the #1 idea only
    7. Use generate_validation_questions tool for all 3 ideas (this is fast)

    Always return the full detailed recommendation in markdown. Be concise but complete. The output should contain detailed sections so the frontend can display structured insights.
  expected_output: >
    A comprehensive recommendation report with the following required sections and minimum detail:
    - Heading `### Comprehensive Recommendation Report`
    - `#### Profile Fit Summary` with at least six bullet points translating inputs (goal type, time commitment, budget, interest focus, work style, skill strength, experience summary)
    - `#### Recommendation Matrix` comparing the top ideas against goal alignment, time, budget, skill fit, and work style
    - Numbered ideas `1.` to `3.` where each idea covers:
      * **Execution path** with immediate actions, partners, and required skills; include at least one milestone or channel unique to this idea
      * **Financial snapshot** (costs, revenue projections, breakeven) citing tool outputs
      * **Key risks & mitigations** leveraging assess_startup_risks results and tailored to the idea’s model and focus
    - `### Financial Outlook` summarizing budget fit, revenue projections, and viability scores
    - `### Risk Radar` section MUST contain:
      * SPECIFIC risks tied to the actual idea(s) being recommended (e.g., "For the AI chatbot idea: Limited training data access could slow development" NOT "Market saturation")
      * Risks that consider the user's specific constraints: budget ({budget_range}), time ({time_commitment}), work style ({work_style}), and skill level ({skill_strength})
      * Each risk must be idea-specific and actionable (e.g., "Technical complexity risk: Your {skill_strength} skills may need reinforcement in [specific area] for this idea. Mitigation: Start with no-code tools like [specific tool] before building custom solutions")
      * Avoid generic risks like "market saturation" or "competition" unless you explain HOW they specifically impact THIS idea given the user's profile
      * Format: Risk name (Severity: Low/Medium/High): Specific explanation tied to the idea and user profile. Mitigation: Concrete action steps.
    - `### Customer Persona` describing demographics, pains, gains, buying triggers (from generate_customer_persona)
    - `### Validation Questions` listing at least eight discovery questions tied to learning goals (from generate_validation_questions); questions must mention the idea or audience explicitly and should not repeat the same "listen for"/"act on" guidance
    - `### 30/60/90 Day Roadmap` section MUST contain:
      * CONCRETE, ACTIONABLE milestones specific to the recommended idea(s), NOT generic steps like "validate assumptions" or "conduct research"
      * Each milestone must reference specific tools, platforms, or actions (e.g., "Days 0-30: Build MVP using [specific tool] targeting [specific audience]. Create landing page on [platform]. Interview 10 potential customers using [specific questions]")
      * Milestones must respect the user's time commitment ({time_commitment}) - if they have <5 hrs/week, don't suggest 40-hour tasks
      * Milestones must respect the user's budget ({budget_range}) - if budget is "Free/Sweat-equity", suggest free tools and platforms
      * Milestones must leverage the user's skill strength ({skill_strength}) and work style ({work_style})
      * Format: **Days 0-30**: [Specific action 1], [Specific action 2], [Specific action 3]. Success metric: [Measurable outcome]. **Days 30-60**: [Next phase actions]. **Days 60-90**: [Final phase actions]
      * DO NOT use generic phrases like "validate core assumptions" or "conduct market research" - be specific about WHAT to validate and HOW
    - `### Decision Checklist` highlighting signals to move forward or pivot
    The report should be 800-1000 words (concise but complete). Retain the exact section headings specified. Do not collapse content into a single paragraph.
  agent: recommendation_advisor
  output_file: output/personalized_recommendations.md

